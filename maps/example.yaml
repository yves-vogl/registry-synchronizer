sync:
  - from:
      registry_id: "0123456789"
      # Switch to a role
      aws_role_arn: arn:aws:iam::0123456789:role/OrganizationAccountAccessRole

    to:
      registry_id: "9876543210"
      # Use an existing profile instead of given credentials
      aws_profile: other
    transformations:
      # Adding a prefix
      - prefix-{x}
      # Adding a suffix
      - '{x}-suffix'
      # Converting the case to upper
      - '{x.upper()}'

    # If include is specified, only the repos named under repositories included
    include:
      # Specifies the number of images which are synchronized.
      # If include option is specified, either the limit option there takes precendence
      # or is implicitelcy by the number of versions
      limit: 5
      repositories:
        the-whole-repo: {}
        docker-insure-general-claims: {}

  - from:
      registry_id: "0000000000"
      aws_profile: default
    to:
      registry_id: "1111111111"
      aws_profile: other
    transformations:
      # Fix misspellings
      - {"liquibase" if x == "liquidbase" else x}
      # Do nothing
      - {x}
